<nav class="navbar navbar-expand-lg bg-light p-2"
     style="padding-top: env(safe-area-inset-top, 0)">
    <div>
        <a class="navbar-brand ms-2"
           href="{% url 'activity_feed:activity_feed' %}">LÊŒvDB</a>
    </div>
    <button class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse text-center"
         id="navbarSupportedContent">
        <ul class="navbar-nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0 mr-auto align-items-center">
            <li class="nav-item">
                <a class="nav-link btn btn-sm btn-light"
                   href="{% url 'read:read_list' %}">Read</a>
            </li>
            <li class="nav-item">
                <a class="nav-link btn btn-sm btn-light"
                   href="{% url 'watch:watch_list' %}">Watch</a>
            </li>
            <li class="nav-item">
                <a class="nav-link btn btn-sm btn-light"
                   href="{% url 'listen:listen_list' %}">Listen</a>
            </li>
            <li class="nav-item me-2">
                <a class="nav-link btn btn-sm btn-light"
                   href="{% url 'play:play_list' %}">Play</a>
            </li>
            <form class="d-flex" method="GET" action="{% url 'accounts:search' %}">
                <div class="input-group">
                    <select name="model"
                            id="model"
                            class="form-select form-select-sm"
                            style="max-width: 75px;
                                   font-size: 0.75em">
                        <option value="all" {% if request.GET.model == "all" %}selected{% endif %}>All</option>
                        <option value="read" {% if request.GET.model == "read" %}selected{% endif %}>Read</option>
                        <option value="watch" {% if request.GET.model == "watch" %}selected{% endif %}>Watch</option>
                        <option value="listen" {% if request.GET.model == "listen" %}selected{% endif %}>Listen</option>
                        <option value="play" {% if request.GET.model == "play" %}selected{% endif %}>Play</option>
                        <option value="write" {% if request.GET.model == "write" %}selected{% endif %}>Write</option>
                        <option value="person" {% if request.GET.model == "person" %}selected{% endif %}>Person</option>
                        <option value="user" {% if request.GET.model == "user" %}selected{% endif %}>User</option>
                    </select>
                    <input class="form-control"
                           type="search"
                           placeholder="Search"
                           aria-label="Search"
                           name="q"
                           value="{{ request.GET.q }}">
                    <button class="btn btn-outline-success" type="submit">
                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" class="fa-icon" style="vertical-align: middle;">
                            <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                            <path fill="#6C757D" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
                        </svg>
                    </button>
                </div>
            </form>            
        </ul>

        <button id="darkModeToggle" class="btn btn-sm me-3" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" class="fa-icon" style="vertical-align: middle;">
                <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path fill="#6C757D" d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/ >
            </svg>
        </button>

        {% if user.is_authenticated %}
            <div>
                <a href="{% url 'notify:notification_list' %}"
                   class="btn btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="fa-icon" style="vertical-align: middle;">
                        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                        <path fill="#6C757D" d="M224 0c-17.7 0-32 14.3-32 32V49.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V200c0-75.8-55.5-138.6-128-150.1V32c0-17.7-14.3-32-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V200c0-57.4 46.6-104 104-104h8zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"/>
                    </svg>
                    {% if new_notifications %}
                        ({{ new_notifications }})
                    {% endif %}
                </a>
            </div>
            <div class="dropdown text-end ms-3 me-0 text-center">
                <a href="#"
                   class="d-block text-decoration-none dropdown-toggle btn btn-sm"
                   id="dropdownUser1"
                   data-bs-toggle="dropdown"
                   aria-expanded="false">
                   {{ user.display_name | default:user.username }}
                </a>
                <ul class="dropdown-menu text-small dropdown-menu-end"
                    aria-labelledby="dropdownUser1">
                    <li>
                        <a class="dropdown-item"
                           href="{% url 'accounts:detail' user.username %}">Profile</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'password_change' %}">Change password</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'logout' %}">Log Out</a>
                    </li>
                </ul>
            </div>
        {% else %}
            <div class="justify-content-center">
                <a href="{% url 'login' %}" class="btn btn-outline-primary me-2">Log
                In</a>
                <a href="{% url 'accounts:signup' %}" class="btn btn-primary">Sign Up</a>
            </div>
        {% endif %}
    </div>
</nav>
