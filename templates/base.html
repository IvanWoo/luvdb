{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-language" content="en-us">
        <meta name="theme-color" content="#333">
        <meta name="theme-color" content="#F6F7F9" media="(prefers-color-scheme: light)">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="description"
              content="LʌvDB is a database of the things you love.">
        <meta name="keywords" content="lʌvdb, luvdb">
        {% block meta %}{% endblock %}
        <!-- Title -->
        <title>
            {% block title %}
                LʌvDB
            {% endblock title %}
        </title>
        <!-- Favicons -->
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="{% static 'img/favicon-32x32.png' %}">
        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="{% static 'img/favicon-16x16.png' %}">
        <link rel="apple-touch-icon"
              sizes="180x180"
              href="{% static 'img/apple-touch-icon.png' %}">
        <link rel="manifest" href="{% static 'img/site.webmanifest' %}">
        <link rel="mask-icon"
              href="{% static 'img/safari-pinned-tab.svg' %}"
              color="#5bbad5">
        <link rel="icon"
              type="image/png"
              sizes="192x192"
              href="{% static 'img/android-chrome-192x192.png' %}">
        <link rel="icon"
              type="image/png"
              sizes="512x512"
              href="{% static 'img/android-chrome-512x512.png' %}">
        <!-- Meta Colors -->
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <!-- External Stylesheets -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
              crossorigin="anonymous">
        <!-- Internal Stylesheets -->
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link rel="stylesheet" href="{% static 'css/pygments.css' %}">
        <link rel="stylesheet" href="{% static 'css/admonition.css' %}">
        {% if not no_citation_css %}
            <link rel="stylesheet" href="{% static 'css/citation.css' %}">
        {% endif %}
        <script>
            function getSystemPreferredTheme() {
              if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                return 'dark';
              }
              return 'light';
            }
            const savedTheme = localStorage.getItem('theme') || getSystemPreferredTheme();
            const metaThemeColor = document.querySelector("meta[name='theme-color']");
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
                metaThemeColor.setAttribute("content", "#333"); 
            } else {
                document.documentElement.setAttribute('data-bs-theme', 'light');
                metaThemeColor.setAttribute("content", "#F6F7F9"); 
            }
        </script>          
    </head>
    <body style="padding-top: env(safe-area-inset-top, 0);">
        <header class='mb-3'>
            {% include "navbar.html" %}
        </header>
        <div class="container">
            <main>
                {% block content %}
                {% endblock content %}
            </main>
            {% include "footer.html" %}
        </div>
        <!-- JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
                defer
                integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
                crossorigin="anonymous"></script>
        <script src="{% static 'js/popup-footnote.js' %}" defer></script>
        <script src="{% static 'js/dark-mode.js' %}" defer ></script>
        <script src="{% static 'js/script.js' %}" defer></script>
    </body>
</html>
