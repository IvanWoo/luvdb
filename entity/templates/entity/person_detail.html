{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row">
        <!--meta-->
        <div class="col-sm-8">
            <span class='d-flex align-items-start'>
                <h2>
                    {{ object.name }}
                    {% if object.romanized_name %} / {{ object.romanized_name }} {% endif %}
                </h2> 
            </span>
            <span class="text-secondary">
                {% if object.birth_date %}{{ object.birth_date }}-{% endif %}{% if object.death_date %}{{ object.death_date }}{% endif %}
            </span>

            <!--Read-->
            <div class="row">
                {% if object.read_works.count != 0 %}
                <div class="col-md-6">
                    <h3 class="mt-3">Bibliography</h3>
                    <ul>
                    {% for work in read_works %}
                        <li>
                            {% if work.work_type == 'NO' %}
                                <a href="{% url 'read:work_detail' work.pk %}" style="font-weight: bold;">{{ work.title }}</a> ({{ work.publication_date}})
                            {% else %}
                                <a href="{% url 'read:work_detail' work.pk %}">{{ work.title }}</a> ({{ work.publication_date}})
                            {% endif %}
                        </li>
                    {% empty %}
                        <li>This person has no books.</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>

            <div class="row">
                {% if as_translator.count != 0 %}
                <div class="col-md-6">
                    <h3 class="mt-3">As Translator</h3>
                    <ul>
                    {% for instance in as_translator.all %}
                        <li>
                            <a href="{% url 'read:instance_detail' instance.pk %}">{{ instance.title }}</a> ({{ instance.publication_date}})
                        </li>
                    {% empty %}
                        <li>This person has no translation works.</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
                
                {% if writings.count != 0 %}
                <div class="col-md-6">
                    <h3 class="mt-3">Introduction / Afterword</h3>
                    <ul>
                    {% for book in writings.all %}
                        <li>
                            <a href="{% url 'read:book_detail' book.pk %}">{{ book.title }}</a> ({{ book.publication_date}})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %} 

            </div>

            <!--Listen-->
            <div class="row">

                {% if LPs_as_singer or EPs_as_singer or singles_as_singer %}
                <h3 class="mt-3">Discography</h3>

                {% if singles_as_singer %}
                <div class="col-md-4">
                    <h4>Single</h4>
                    <ul>
                    {% for single in singles_as_singer %}
                        <li>
                            <a href="{% url 'listen:release_detail' single.pk %}">{{ single.title }}</a> ({{ single.release_date}})
                        </li>
                    {% empty %}
                        <li>This person has no singles.</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                {% if EPs_as_singer %}
                <div class="col-md-4">
                    <h4>EP</h4>
                    <ul>
                    {% for ep in EPs_as_singer %}
                        <li>
                            <a href="{% url 'listen:release_detail' ep.pk %}">{{ ep.title }}</a> ({{ ep.release_date}})
                        </li>
                    {% empty %}
                        <li>This person has no EPs.</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                {% if LPs_as_singer %}
                <div class="col-md-4">
                    <h4>LP</h4>
                    <ul>
                    {% for lp in LPs_as_singer %}
                        <li>
                            <a href="{% url 'listen:release_detail' lp.pk %}">{{ lp.title }}</a> ({{ lp.release_date}})
                        </li>
                    {% empty %}
                        <li>This person has no LPs.</li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                {% endif %}
            </div>
            
            {% if tracks_as_singer or tracks_as_lyricist or tracks_as_composer or tracks_as_arranger or tracks_as_arranger or tracks_as_producer%}
            <div class='row'>
                <h3>Tracks</h3>
            
                {% if tracks_as_singer.count != 0 %}
                <div class="col-md-4">
                    <h4>As Singer</h4>
                    <ul>
                    {% for track in tracks_as_singer %}
                        <li>
                            <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
                                
                {% if tracks_as_lyricist.count != 0 %}
                <div class="col-md-4">
                    <h4>As Lyricist</h4>
                    <ul>
                    {% for track in tracks_as_lyricist %}
                        <li>
                            <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
               

                
                {% if tracks_as_composer.count != 0 %}
                <div class="col-md-4">
                    <h4>As Composer</h4>
                    <ul>
                    {% for track in tracks_as_composer %}
                        <li>
                            <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>
            <div class="row">

                {% if tracks_as_arranger.count != 0 %}
                <div class="col-md-4">
                    <h4>As Arranger</h4>
                    <ul>
                    {% for track in tracks_as_arranger %}
                        <li>
                            <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
                
                {% if tracks_as_producer.count != 0 %}
                <div class="col-md-4">
                    <h4>As Producer</h4>
                    <ul>
                    {% for track in tracks_as_producer %}
                        <li>
                            <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
                
            </div>
            {% endif %}

            <!--Watch-->
            {% if movies or series or movies_as_director or series_as_director or movies_as_writer or series_as_writer %}
            <div class="row">
                <h3>Filmography</h3>
                <!--As cast-->
                {% if movies.count != 0 %}
                <div class="col-md-6">
                    <h4>As Cast (Movies)</h4>
                    <ul>
                    {% for movie in movies %}
                        <li>
                            <a href="{% url 'watch:movie_detail' movie.id %}">{{ movie.title }}</a> ({{ movie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                {% if series.count != 0 %}
                <div class="col-md-6">
                    <h4>As Cast (Series)</h4>
                    <ul>
                    {% for serie in series %}
                        <li>
                            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title }}</a> ({{ serie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
                <!--As Director-->
                {% if movies_as_director.count != 0 %}
                <div class="col-md-6">
                    <h4>As Director (Movies)</h4>
                    <ul>
                    {% for movie in movies_as_director %}
                        <li>
                            <a href="{% url 'watch:movie_detail' movie.id %}">{{ movie.title }}</a> ({{ movie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                {% if series_as_director.count != 0 %}
                <div class="col-md-6">
                    <h4>As Director (Series)</h4>
                    <ul>
                    {% for serie in series_as_director %}
                        <li>
                            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title }}</a> ({{ serie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}

                <!--As Writer-->
                {% if movies_as_writer.count != 0 %}
                <div class="col-md-6">
                    <h4>As Writer (Movies)</h4>
                    <ul>
                    {% for movie in movies_as_writer %}
                        <li>
                            <a href="{% url 'watch:movie_detail' movie.id %}">{{ movie.title }}</a> ({{ movie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>

                {% endif %}

                {% if series_as_writer.count != 0 %}
                <div class="col-md-6">
                    <h4>As Writer (Series)</h4>
                    <ul>
                    {% for serie in series_as_writer %}
                        <li>
                            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title }}</a> ({{ serie.release_date }})
                        </li>
                    {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>
            {% endif %}

            <!--Play-->
            {% if gameworks.count != 0 %}
            <div class="row">
                <h3>Gameography</h3>
                <div class="col-sm-4">
                    <h4>As Writer</h4>
                    <ul>
                    {% for work in gameworks %}
                        <li>
                            <a href="{% url 'play:work_detail' work.pk %}">{{ work.title }}</a> ({{ work.first_release_date }})
                        </li>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

        </div>

        <!--manage entry-->
        <div class="col-sm-4">
            <div class="bg-light p-3">
                {% if user.is_authenticated %}
                <a href="{% url 'entity:person_update' object.pk %}" class='fs-6 text-secondary'>Edit Person</a>
                {% endif %}

                <h5 class="mt-3">Link</h5>
                {% if object.wikipedia %}
                <div>
                    <a href="{{ object.wikipedia }}" target="_blank">Wikipedia</a>
                </div>
                {% endif %}

                {% if object.website %}
                    <div>
                        <a href="{{ object.website }}" target="_blank">Official Website</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}
