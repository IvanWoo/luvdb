{% extends "base.html" %}
{% load markdownify %}
{% load language_name %}
{% load util_filters %}
{% block title %}{{ object.name }}{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <!--meta-->
            <div class="col-12 col-md-8">
                <span class='d-flex flex-wrap align-items-baseline'>
                    <h2 class="me-2">{{ object.name }}</h2>
                    {% if object.creator_type == "group" %}<div class="text-muted">Group</div> {% endif %}
                </span>
                <!--Other names in muted text in a line-->
                {% if object.other_names %}<div class="text-muted">{{ object.other_names }}</div>{% endif %}
                {% if object.creator_type == "person" %}
                    <div class="text-secondary">
                        {% if object.birth_date %}
                            {{ object.birth_date }}
                            {% if object.birth_location %}(<a href="{% url 'visit:location_detail' object.birth_location.id %}">{% if birth_location_label %}{{ birth_location_label }}{% else %}{{ object.birth_location.name }}, {{ object.birth_location.parent.name }}{% endif %}</a>){% endif %}
                            -
                        {% else %}
                            ?
                            {% if object.birth_location %}(<a href="{% url 'visit:location_detail' object.birth_location.id %}">{% if birth_location_label %}{{ birth_location_label }}{% else %}{{ object.birth_location.name }}, {{ object.birth_location.parent.name }}{% endif %}</a>){% endif %}
                            -                            
                        {% endif %}
                        {% if object.death_date %}{{ object.death_date }}{% endif %}
                        {% if object.death_location %}(<a href="{% url 'visit:location_detail' object.death_location.id %}">{% if death_location_label %}{{ death_location_label }}{% else %}{{ object.death_location.name }}, {{ object.death_location.parent.name }}{% endif %}</a>){% endif %}
                    </div>
                {% else %}
                    {% if object.origin_location %}
                    <div class="text-secondary">
                        Origin: {% if object.origin_location %}<a href="{% url 'visit:location_detail' object.origin_location.id %}">{% if origin_location_label %}{{ origin_location_label }}{% else %}{{ object.origin_location.name }}, {{ object.origin_location.parent.name }}{% endif %}</a>{% endif %}
                    </div>     
                    {% endif %}
                    {% if object.active_years %}
                    <div class="text-secondary">
                        Years active: {{ object.active_years }}
                    </div>         
                    {% endif %}
                {% endif %}
                {% if object.members.exists %}
                <div>
                    <span class="text-muted">Members:</span>
                    {% for member in object.members.all %}
                        <a href="{% url 'entity:creator_detail' member.creator.id %}">{{ member.creator.name }}</a>
                        {% if not forloop.last %} / {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
                {% if object.member_of.exists %}
                <div>
                    <span class="text-muted">Member of</span>
                    {% for member_of in object.member_of.all %}
                        <a href="{% url 'entity:creator_detail' member_of.group.id %}">{{ member_of.group.name }}</a> ({{member_of.start_date}} - {{member_of.end_date|default:"Now"}})
                        {% if not forloop.last %} / {% endif %}
                        {% if not forloop.last %} / {% endif %}
                    {% endfor %}               
                </div>                
                {% endif %}
                {% if object.notes %}
                <div class="text-muted">
                    {{ object.notes | markdownify }}
                </div>
                {% endif %}
                <!--Read-->
                {% if lit_works_all.exists or books or audiobook_as_narrator %}
                    <h3 class="mt-2">Bibliography</h3>
                    {% if lit_works_all.exists %}
                        <div class="row">
                            <div class="col-12">
                                <ul class="nav nav-tabs scrollable-tabs" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link text-muted default-tab" id="all-biblio-tab" data-bs-toggle="tab" data-bs-target="#all-biblio" type="button" role="tab" aria-controls="all" aria-selected="true">All</button>
                                    </li>
                                    {% for work_type, lit_work in lit_works.items %}
                                        {% if lit_work.exists %}
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link text-muted" id="{{work_type}}-tab" data-bs-toggle="tab" data-bs-target="#{{work_type}}" type="button" role="tab" aria-controls="{{work_type}}" aria-selected="true">{{work_type|capfirst}}</button>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane mt-1 show active" id="all-biblio" role="tabpanel" aria-labelledby="all-biblio-tab">
                                        <ul class="mt-2">
                                            {% for work in lit_works_all %}
                                                <li>
                                                    <a href="{% url 'read:work_detail' work.pk %}">
                                                        {% if work.work_type == "NO" %}
                                                            <b>{{ work.title }}</b>
                                                        {% else %}
                                                            {{ work.title }}
                                                        {% endif %}
                                                    </a> ({{work.get_work_type_display}}, {{ work.publication_date }})
                                                </li>
                                            {% endfor %}
                                        </ul>
                                    </div>

                                    {% for work_type, lit_work in lit_works.items %}
                                        {% if lit_work.exists %}
                                        <div class="tab-pane mt-1" id="{{work_type}}" role="tabpanel" aria-labelledby="{{work_type}}-tab">
                                            <ul class="mt-2">
                                                {% for work in lit_work %}
                                                    <li>
                                                        <a href="{% url 'read:work_detail' work.pk %}">
                                                                {{ work.title }}
                                                        </a> ({{ work.publication_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    {% if books or audiobook_as_narrator %}
                        <div class="row">
                            <div class="col-12">
                                <div class="fs-4">Books</div>
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs scrollable-tabs" id="bookTab" role="tablist">
                                    {% for role, books_by_role in books.items %}
                                        {% if books_by_role %}
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}" type="button" role="tab" aria-controls="{{ role|slugify }}" aria-selected="true">
                                                    {{ role }}
                                                </button>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                    {% if audiobook_as_narrator %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="narrator-tab" data-bs-toggle="tab" data-bs-target="#narrator" type="button" role="tab" aria-controls="narrator" aria-selected="true">
                                                Narrator
                                            </button>
                                        </li>
                                    {% endif %}
                                </ul>
                    
                                <!-- Tab panes -->
                                <div class="tab-content" id="bookTabContent">
                                    {% for role, books_by_role in books.items %}
                                        {% if books_by_role %}
                                            <div class="tab-pane scrollable-tabs" id="{{ role|slugify }}" role="tabpanel" aria-labelledby="{{ role|slugify }}-tab">
                                                <!-- Sub-tabs for languages -->
                                                <div class="sub-tabs">
                                                    <ul class="nav nav-tabs" id="{{ role|slugify }}SubTab" role="tablist">
                                                        {% for lang, books in books_by_role.items %}
                                                            <li class="nav-item" role="presentation">
                                                                <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-{{ lang|slugify }}-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-{{ lang|slugify }}-content" type="button" role="tab" aria-controls="{{ role|slugify }}-{{ lang|slugify }}-content" aria-selected="false">
                                                                    {{ lang|language_name }}
                                                                </button>
                                                            </li>
                                                        {% endfor %}
                                                    </ul>
                                                    <!-- Sub-tab content for languages -->
                                                    <div class="tab-content" id="{{ role|slugify }}SubTabContent">
                                                        {% for lang, books in books_by_role.items %}
                                                            <div class="tab-pane fade" id="{{ role|slugify }}-{{ lang|slugify }}-content" role="tabpanel" aria-labelledby="{{ role|slugify }}-{{ lang|slugify }}-tab">
                                                                <ul class="mt-2">
                                                                    {% for item in books %}
                                                                        <li>
                                                                            {% if item.model_name == "Instance" %}
                                                                                <a href="{% url 'read:instance_detail' item.pk %}">{{ item.title }}</a> ({{ item.publication_date }})
                                                                            {% elif item.model_name == "Book" %}
                                                                                {% if item.book_group.exists %}
                                                                                    <a href="{% url 'read:bookgroup_detail' item.book_group.first.pk %}">{{ item.book_group.first.title }}</a>
                                                                                    ({{ item.publication_date }})
                                                                                {% else %}
                                                                                    <a href="{% url 'read:book_detail' item.pk %}">{{ item.title }}</a> 
                                                                                    ({% if item.format %}{{ item.format }}, {% endif %}{{ item.publication_date }})
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        </li>
                                                                    {% endfor %}
                                                                </ul>
                                                            </div>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                
                                    {% if audiobook_as_narrator %}
                                        <div class="tab-pane mt-1" id="narrator" role="tabpanel" aria-labelledby="narrator-tab">
                                            <ul class="mt-2">
                                                {% for item in audiobook_as_narrator %}
                                                    <li>
                                                        <a href="{% url 'listen:audiobook_detail' item.pk %}">{{ item.title }}</a> ({{ item.release_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                
                {% endif %}
                <!--Watch-->
                {% if movies_as_cast or series_as_cast or movies or series %}
                    <h3 class="mt-2">Filmography</h3>
                    <div class="row">
                        {% if movies or movies_as_cast.exists %}
                        <div class="row">
                            <div class="col-12">
                                <div class="fs-4">Movies</div>
                                <!-- Nav tabs for Movies -->
                                <ul class="nav nav-tabs scrollable-tabs" id="movieTab" role="tablist">
                                    {% if movies_as_cast.exists %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="as-cast-movie-tab" data-bs-toggle="tab" data-bs-target="#as-cast-movie" type="button" role="tab" aria-controls="as-cast-movie" aria-selected="true">
                                                Cast
                                            </button>
                                        </li>
                                    {% endif %}
                                    {% for role, role_movies in movies.items %}
                                        {% if role_movies %}
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-movie-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-movie" type="button" role="tab" aria-controls="{{ role|slugify }}-movie" aria-selected="true">
                                                    {{ role }}
                                                </button>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                        
                                <!-- Tab panes for Movies -->
                                <div class="tab-content" id="movieTabContent">
                                    {% if movies_as_cast.exists %}
                                        <div class="tab-pane fade scrollable-tabs" id="as-cast-movie" role="tabpanel" aria-labelledby="as-cast-movie-tab">
                                            <ul class="mt-2">
                                                {% for movie in movies_as_cast %}
                                                    <li>
                                                        <a href="{% url 'watch:movie_detail' movie.id %}">{{ movie.title }}</a> ({% if movie.character_name %}{{movie.character_name}}, {% endif %}{{ movie.earliest_release_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                    {% for role, role_movies in movies.items %}
                                        {% if role_movies %}
                                            <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-movie" role="tabpanel" aria-labelledby="{{ role|slugify }}-movie-tab">
                                                <ul class="mt-2">
                                                    {% for movie in role_movies %}
                                                        <li>
                                                            <a href="{% url 'watch:movie_detail' movie.pk %}">{{ movie.title }}</a> ({{ movie.earliest_release_date }})
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if series or series_as_cast.exists %}
                        <div class="row">
                            <div class="col-12">
                                <div class="fs-4">Series</div>
                                <!-- Nav tabs for Series -->
                                <ul class="nav nav-tabs scrollable-tabs" id="seriesTab" role="tablist">
                                    {% if series_as_cast.exists %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="as-cast-series-tab" data-bs-toggle="tab" data-bs-target="#as-cast-series" type="button" role="tab" aria-controls="as-cast-series" aria-selected="true">
                                                Cast
                                            </button>
                                        </li>
                                    {% endif %}
                                    {% for role, role_series in series.items %}
                                        {% if role_series %}
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-series-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-series" type="button" role="tab" aria-controls="{{ role|slugify }}-series" aria-selected="true">
                                                    {{ role }}
                                                </button>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                        
                                <!-- Tab panes for Series -->
                                <div class="tab-content" id="seriesTabContent">
                                    {% if series_as_cast.exists %}
                                        <div class="tab-pane fade scrollable-tabs" id="as-cast-series" role="tabpanel" aria-labelledby="as-cast-series-tab">
                                            <ul class="mt-2">
                                                {% for serie in series_as_cast %}
                                                    <li>
                                                        {% if serie.min_release_date == serie.max_release_date %}
                                                            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title }}</a> ({% if serie.character_name %}{{serie.character_name}}, {% endif %}{{ serie.min_release_date|extract_year }}) <span class="text-muted">({{ serie.episode_count }} episodes)</span>
                                                        {% else %}
                                                            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title }}</a> ({% if serie.character_name %}{{serie.character_name}}, {% endif %}{{ serie.min_release_date|extract_year }}-{{ serie.max_release_date|extract_year }}) <span class="text-muted">({{ serie.episode_count }} episodes)</span>
                                                        {% endif %}
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                    {% for role, role_series in series.items %}
                                        {% if role_series %}

                                            <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-series" role="tabpanel" aria-labelledby="{{ role|slugify }}-series-tab">
                                                <ul class="mt-2">
                                                    {% for item in role_series %}
                                                        <li>    
                                                            {% if item.min_release_date == item.max_release_date %}
                                                                <a href="{% url 'watch:series_detail' item.series.pk %}">{{ item.series.title }}</a> ({{ item.min_release_date|extract_year }})
                                                                {% if item.episode_count %}<span class="text-muted">({{ item.episode_count }} episodes)</span>{% endif %}
                                                            {% else %}
                                                                <a href="{% url 'watch:series_detail' item.series.pk %}">{{ item.series.title }}</a> ({{ item.min_release_date|extract_year }}-{{ item.max_release_date|extract_year }})
                                                                {% if item.episode_count %}<span class="text-muted">({{ item.episode_count }} episodes)</span>{% endif %}
                                                            {% endif %}
                                                        </li> 
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        {% endif %}                         
                    </div>
                {% endif %}
                <!--Listen-->
                {% if boxset_releases_as_performer or LPs_as_performer or EPs_as_performer or singles_as_performer or releases or tracks or works %}
                    <h3 class="mt-2">Discography</h3>
                    {% if LPs_as_performer or EPs_as_performer or singles_as_performer or boxset_releases_as_performer%}
                        <div class="row">
                            <div class="col-12" role="tablist">
                                <div class="btn-group">
                                    <button class="btn btn-outline-secondary btn-sm active" id="all-disco-tab" data-bs-toggle="tab" data-bs-target="#all-disco" type="button" role="tab" aria-controls="all-disco" aria-selected="true">
                                        All
                                    </button>
                                </div>   
                                {% if boxset_releases_as_performer %}
                                <button class="btn btn-outline-secondary btn-sm" id="boxset-tab" data-bs-toggle="tab" data-bs-target="#boxset" type="button" role="tab" aria-controls="boxset" aria-selected="false">
                                    Box Set
                                </button>
                                {% endif %}
                                {% if LPs_as_performer %}
                                <div class="btn-group">
                                    <button class="btn btn-outline-secondary btn-sm" id="lp-tab" data-bs-toggle="tab" data-bs-target="#lps" type="button" role="tab" aria-controls="lp" aria-selected="false">
                                        LP
                                    </button>
                                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                                        <span class="visually-hidden">Toggle Dropdown</span>
                                    </button>
                                    <div class="dropdown-menu">
                                        {% if studio_LPs_as_performer %}
                                        <a class="dropdown-item" id="studio-lps-tab" data-bs-toggle="tab" data-bs-target="#studio-lps" role="tab" aria-controls="studio-lps">Studio</a>
                                        {% endif %}
                                        {% if live_LPs_as_performer %}
                                        <a class="dropdown-item" id="live-lps-tab" data-bs-toggle="tab" data-bs-target="#live-lps" role="tab" aria-controls="live-lps">Live</a>
                                        {% endif %}
                                        {% if compilation_LPs_as_performer %}
                                        <a class="dropdown-item" id="compilation-lps-tab" data-bs-toggle="tab" data-bs-target="#compilation-lps" role="tab" aria-controls="compilation-lps">Compilation</a>
                                        {% endif %}
                                    </div>
                                </div>
                                {% endif %}
                                {% if EPs_as_performer %}
                                    <div class="btn-group">
                                        <button class="btn btn-outline-secondary btn-sm" id="ep-tab" data-bs-toggle="tab" data-bs-target="#eps" type="button" role="tab" aria-controls="ep" aria-selected="false">
                                            EP
                                        </button>
                                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span class="visually-hidden">Toggle Dropdown</span>
                                        </button>
                                        <div class="dropdown-menu">
                                            {% if studio_EPs_as_performer %}
                                            <a class="dropdown-item" id="studio-eps-tab" data-bs-toggle="tab" data-bs-target="#studio-eps" role="tab" aria-controls="studio-eps">Studio</a>
                                            {% endif %}
                                            {% if live_EPs_as_performer %}
                                            <a class="dropdown-item" id="live-eps-tab" data-bs-toggle="tab" data-bs-target="#live-eps" role="tab" aria-controls="live-eps">Live</a>
                                            {% endif %}
                                            {% if compilation_EPs_as_performer %}
                                            <a class="dropdown-item" id="compilation-eps-tab" data-bs-toggle="tab" data-bs-target="#compilation-eps" role="tab" aria-controls="compilation-eps">Compilation</a>
                                            {% endif %}
                                        </div>
                                    </div>
                                {% endif %}
                                {% if singles_as_performer %}
                                <div class="btn-group">
                                    <button class="btn btn-outline-secondary btn-sm" id="single-tab" data-bs-toggle="tab" data-bs-target="#singles" type="button" role="tab" aria-controls="single" aria-selected="false">
                                        Single
                                    </button>
                                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                                        <span class="visually-hidden">Toggle Dropdown</span>
                                    </button>
                                    <div class="dropdown-menu">
                                        {% if studio_singles_as_performer %}
                                        <a class="dropdown-item" id="studio-singles-tab" data-bs-toggle="tab" data-bs-target="#studio-singles" role="tab" aria-controls="studio-singles">Studio</a>
                                        {% endif %}
                                        {% if live_singles_as_performer %}
                                        <a class="dropdown-item" id="live-singles-tab" data-bs-toggle="tab" data-bs-target="#live-singles" role="tab" aria-controls="live-singles">Live</a>
                                        {% endif %}
                                        {% if demo_singles_as_performer %}
                                        <a class="dropdown-item" id="demo-singles-tab" data-bs-toggle="tab" data-bs-target="#demo-singles" role="tab" aria-controls="demo-singles">Demo</a>
                                        {% endif %}
                                    </div>
                                </div>
                                {% endif %}
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane mt-1 show active" id="all-disco" role="tabpanel" aria-labelledby="all-disco-tab">
                                        <ul class="mt-2">
                                            {% for release in All_releases_as_performer %}
                                                <li>
                                                    {% if release.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' release.release_group.first.id %}">{{ release.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' release.pk %}">{{ release.title }}</a>
                                                    {% endif %}
                                                    ({% if release.recording_type %}{{release.recording_type}} {{release.release_type}}, {% endif %}{{ release.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no release.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>                                    
                                    <div class="tab-pane mt-1" id="singles" role="tabpanel" aria-labelledby="single-tab">
                                        <ul class="mt-2">
                                            {% for single in singles_as_performer %}
                                                <li>
                                                    {% if single.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' single.release_group.first.id %}">{{ single.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' single.pk %}">{{ single.title }}</a>
                                                    {% endif %}
                                                    ({% if single.recording_type %}{{single.recording_type}}, {% endif %}{{ single.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no singles.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>   
                                    <div class="tab-pane mt-1" id="studio-singles" role="tabpanel" aria-labelledby="studio-singles-tab">
                                        <ul class="mt-2">                                       
                                            {% for single in studio_singles_as_performer %}
                                                <li>
                                                    {% if single.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' single.release_group.first.id %}">{{ single.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' single.pk %}">{{ single.title }}</a>
                                                    {% endif %}
                                                    ({% if single.recording_type %}{{single.recording_type}}, {% endif %}{{ single.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no studio singles.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="live-singles" role="tabpanel" aria-labelledby="live-singles-tab">
                                        <ul class="mt-2">                                       
                                            {% for single in live_singles_as_performer %}
                                                <li>
                                                    {% if single.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' single.release_group.first.id %}">{{ single.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' single.pk %}">{{ single.title }}</a>
                                                    {% endif %}
                                                    ({% if single.recording_type %}{{single.recording_type}}, {% endif %}{{ single.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no live singles.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="demo-singles" role="tabpanel" aria-labelledby="demo-singles-tab">
                                        <ul class="mt-2">                                       
                                            {% for single in demo_singles_as_performer %}
                                                <li>
                                                    {% if single.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' single.release_group.first.id %}">{{ single.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' single.pk %}">{{ single.title }}</a>
                                                    {% endif %}
                                                    ({% if single.recording_type %}{{single.recording_type}}, {% endif %}{{ single.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no demo singles.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="eps" role="tabpanel" aria-labelledby="single-tab">
                                        <ul class="mt-2">
                                            {% for ep in EPs_as_performer %}
                                                <li>
                                                    {% if ep.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' ep.release_group.first.id %}">{{ ep.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' ep.pk %}">{{ ep.title }}</a>
                                                    {% endif %}
                                                    ({% if ep.recording_type %}{{ep.recording_type}}, {% endif %}{{ ep.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no EPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="studio-eps" role="tabpanel" aria-labelledby="studio-eps-tab">
                                        <ul class="mt-2">                                       
                                            {% for ep in studio_EPs_as_performer %}
                                                <li>
                                                    {% if ep.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' ep.release_group.first.id %}">{{ ep.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' ep.pk %}">{{ ep.title }}</a>
                                                    {% endif %}
                                                    ({% if ep.recording_type %}{{ep.recording_type}}, {% endif %}{{ ep.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no studio EPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="live-eps" role="tabpanel" aria-labelledby="live-eps-tab">
                                        <ul class="mt-2">                                       
                                            {% for ep in live_EPs_as_performer %}
                                                <li>
                                                    {% if ep.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' ep.release_group.first.id %}">{{ ep.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' ep.pk %}">{{ ep.title }}</a>
                                                    {% endif %}
                                                    ({% if ep.recording_type %}{{ep.recording_type}}, {% endif %}{{ ep.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no live EPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="lps" role="tabpanel" aria-labelledby="lp-tab">
                                        <ul class="mt-2">                                       
                                            {% for lp in LPs_as_performer %}
                                                <li>
                                                    {% if lp.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' lp.release_group.first.id %}">{{ lp.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' lp.pk %}">{{ lp.title }}</a>
                                                    {% endif %}
                                                    ({% if lp.recording_type %}{{lp.recording_type}}, {% endif %}{{ lp.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no LPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="studio-lps" role="tabpanel" aria-labelledby="studio-lps-tab">
                                        <ul class="mt-2">                                       
                                            {% for lp in studio_LPs_as_performer %}
                                                <li>
                                                    {% if lp.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' lp.release_group.first.id %}">{{ lp.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' lp.pk %}">{{ lp.title }}</a>
                                                    {% endif %}
                                                    ({% if lp.recording_type %}{{lp.recording_type}}, {% endif %}{{ lp.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no studio LPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="live-lps" role="tabpanel" aria-labelledby="live-lps-tab">
                                        <ul class="mt-2">                                       
                                            {% for lp in live_LPs_as_performer %}
                                                <li>
                                                    {% if lp.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' lp.release_group.first.id %}">{{ lp.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' lp.pk %}">{{ lp.title }}</a>
                                                    {% endif %}
                                                    ({% if lp.recording_type %}{{lp.recording_type}}, {% endif %}{{ lp.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no live LPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="compilation-lps" role="tabpanel" aria-labelledby="compilation-lps-tab">
                                        <ul class="mt-2">                                       
                                            {% for lp in compilation_LPs_as_performer %}
                                                <li>
                                                    {% if lp.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' lp.release_group.first.id %}">{{ lp.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' lp.pk %}">{{ lp.title }}</a>
                                                    {% endif %}
                                                    ({% if lp.recording_type %}{{lp.recording_type}}, {% endif %}{{ lp.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no compilation LPs.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    <div class="tab-pane mt-1" id="boxset" role="tabpanel" aria-labelledby="boxset-tab">
                                        <ul class="mt-2">
                                            {% for release in boxset_releases_as_performer %}
                                                <li>
                                                    {% if release.release_group.exists %}
                                                        <a href="{% url 'listen:releasegroup_detail' release.release_group.first.id %}">{{ release.title }}</a>
                                                    {% else %}
                                                        <a href="{% url 'listen:release_detail' release.pk %}">{{ release.title }}</a>
                                                    {% endif %}
                                                    ({% if release.recording_type %}{{release.recording_type}} {{release.release_type}}, {% endif %}{{ release.release_date }})
                                                </li>
                                            {% empty %}
                                                <li>This creator has no release.</li>
                                            {% endfor %}
                                        </ul>
                                    </div>    
                                </div>
                            </div>
                        </div>
                    {% endif %}

                    {% if releases %}
                    <div class="row">
                        <div class="col-12">
                            <div class="fs-4">Releases</div>
                            <!-- Nav tabs for Releases -->
                            <ul class="nav nav-tabs scrollable-tabs" id="releaseTab" role="tablist">
                                {% for role, role_releases in releases.items %}
                                    {% if role_releases %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-release-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-release" type="button" role="tab" aria-controls="{{ role|slugify }}-release" aria-selected="true">
                                                {{ role }}
                                            </button>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                    
                            <!-- Tab panes for Releases -->
                            <div class="tab-content" id="releaseTabContent">
                                {% for role, role_releases in releases.items %}
                                    {% if role_releases %}
                                        <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-release" role="tabpanel" aria-labelledby="{{ role|slugify }}-release-tab">
                                            <ul class="mt-2">
                                                {% for release in role_releases %}
                                                    <li>
                                                        <a href="{% url 'listen:release_detail' release.pk %}">{{ release.title }}</a> ({{ release.release_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if works %}
                    <div class="row">
                        <div class="col-12">
                            <div class="fs-4">Works</div>
                            <!-- Nav tabs for Works -->
                            <ul class="nav nav-tabs scrollable-tabs" id="workTab" role="tablist">
                                {% for role, role_works in works.items %}
                                    {% if role_works %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-work-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-work" type="button" role="tab" aria-controls="{{ role|slugify }}-work" aria-selected="true">
                                                {{ role }}
                                            </button>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                    
                            <!-- Tab panes for Works -->
                            <div class="tab-content" id="workTabContent">
                                {% for role, role_works in works.items %}
                                    {% if role_works %}
                                        <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-work" role="tabpanel" aria-labelledby="{{ role|slugify }}-work-tab">
                                            <ul class="mt-2">
                                                {% for work in role_works %}
                                                    <li>
                                                        <a href="{% url 'listen:work_detail' work.pk %}">{{ work.title }}</a> ({{ work.release_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if tracks %}
                    <div class="row">
                        <div class="col-12">
                            <div class="fs-4">Tracks</div>
                            <!-- Nav tabs for Tracks -->
                            <ul class="nav nav-tabs scrollable-tabs" id="trackTab" role="tablist">
                                {% for role, role_tracks in tracks.items %}
                                    {% if role_tracks %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-track-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-track" type="button" role="tab" aria-controls="{{ role|slugify }}-track" aria-selected="true">
                                                {{ role }}
                                            </button>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                    
                            <!-- Tab panes for Tracks -->
                            <div class="tab-content" id="trackTabContent">
                                {% for role, role_tracks in tracks.items %}
                                    {% if role_tracks %}
                                        <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-track" role="tabpanel" aria-labelledby="{{ role|slugify }}-track-tab">
                                            <ul class="mt-2">
                                                {% for track in role_tracks %}
                                                    <li>
                                                        <a href="{% url 'listen:track_detail' track.pk %}">{{ track.title }}</a> ({{ track.release_date }})
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}                    

                {% endif %}
                <!--Play-->
                {% if has_games or games_as_cast.exists %}
                <h3 class="mt-2">Gameography</h3>
                <div class="row">
                    <div class="row">
                        <div class="col-12">
                            <!-- Nav tabs for Games -->
                            <ul class="nav nav-tabs scrollable-tabs" id="gameTab" role="tablist">
                                {% if games_as_cast %}
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link text-muted default-tab" id="as-cast-game-tab" data-bs-toggle="tab" data-bs-target="#as-cast-game" type="button" role="tab" aria-controls="as-cast-game" aria-selected="true">
                                            Cast
                                        </button>
                                    </li>
                                {% endif %}
                                {% for role, games_by_role in games.items %}
                                    {% if games_by_role %}
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-muted default-tab" id="{{ role|slugify }}-game-tab" data-bs-toggle="tab" data-bs-target="#{{ role|slugify }}-game" type="button" role="tab" aria-controls="{{ role|slugify }}-game" aria-selected="true">
                                                {{ role }}
                                            </button>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                    
                            <!-- Tab panes for Games -->
                            <div class="tab-content" id="gameTabContent">
                                {% if games_as_cast %}
                                    <div class="tab-pane fade scrollable-tabs" id="as-cast-game" role="tabpanel" aria-labelledby="as-cast-game-tab">
                                        <ul class="mt-2">
                                            {% for game in games_as_cast %}
                                                <li>
                                                    <a href="{% url 'play:game_detail' game.pk %}">{{ game.title }}</a> ({{ game.earliest_release_date }})
                                                </li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                {% endif %}
                                {% for role, games_by_role in games.items %}
                                    {% if games_by_role %}
                                        <div class="tab-pane fade scrollable-tabs" id="{{ role|slugify }}-game" role="tabpanel" aria-labelledby="{{ role|slugify }}-game-tab">
                                            <ul class="mt-2">
                                                {% for item in games_by_role %}
                                                    <li>
                                                        {% if item.model_name == "PlayWork" %}
                                                            <!-- This is a PlayWork -->
                                                            <a href="{% url 'play:work_detail' item.pk %}">{{ item.title }}</a> ({{ item.first_release_date }})
                                                        {% else %}
                                                            <!-- This is a Game -->
                                                            <a href="{% url 'play:game_detail' item.pk %}">{{ item.title }}</a> ({{ item.region_release_dates.first.release_date }})
                                                        {% endif %}
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
            
            </div>
            <!--manage entry-->
            <div class="d-flex flex-column col-12 col-md-4 ">
                {% if user.is_authenticated and not object.locked %}
                    <div class="bg-light p-3 mb-3 order-2 order-sm-1">
                        <a href="{% url 'entity:creator_update' object.pk %}"
                           class='fs-6 text-secondary'>Edit Creator</a>
                    </div>
                {% endif %}
                {% if object.wikipedia or object.website%}
                <div class="bg-light p-3 mb-3 order-1 order-sm-2">
                    <div class="fs-5">Link</div>
                    {% if object.wikipedia %}
                        <div>
                            <a href="{{ object.wikipedia }}" target="_blank">Wikipedia</a>
                        </div>
                    {% endif %}
                    {% if object.website %}
                        <div>
                            <a href="{{ object.website }}" target="_blank">Official Website</a>
                        </div>
                    {% endif %}
                </div>
                {% endif %}

                <div class="bg-light p-3 mb-3 order-1 order-sm-2">
                    <div class="fs-5">Statistics</div>
                    {% if litworks_count != 0 or litinstances_count != 0 or books_count != 0 %}
                    <div class="mt-2">
                        <div class="fs-6">Read</div>
                        {% if litworks_count != 0 %}
                        <div>
                            <span class="text-muted">Works</span>: {{ litworks_count }}
                        </div>
                        {% endif %}
                        {% if litinstances_count != 0 %}
                        <div>
                            <span class="text-muted">Instances</span>: {{ litinstances_count }}
                        </div>
                        {% endif %}
                        {% if books_count != 0 %}
                        <div>
                            <span class="text-muted">Books</span>: {{ books_count }}
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}

                    {% if movies_count != 0 or series_count != 0%}
                    <div class="mt-2">
                        <div class="fs-6">Watch</div>
                        {% if movies_count != 0 %}
                        <div>
                            <span class="text-muted">Movies</span>: {{ movies_count }}
                        </div>
                        {% endif %}
                        {% if series_count != 0 %}
                        <div>
                            <span class="text-muted">Series</span>: {{ series_count }}
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}

                    {% if listenworks_count != 0 or tracks_count != 0 or releases_count != 0 or audiobooks_count != 0%}
                    <div class="mt-2">
                        <div class="fs-6">Listen</div>
                        {% if listenworks_count != 0 %}
                        <div>
                            <span class="text-muted">Works</span>: {{ listenworks_count }}
                        </div>
                        {% endif %}
                        {% if tracks_count != 0 %}
                        <div>
                            <span class="text-muted">Tracks</span>: {{ tracks_count }}
                        </div>
                        {% endif %}
                        {% if releases_count != 0 %}
                        <div>
                            <span class="text-muted">Releases</span>: {{ releases_count }}
                        </div>
                        {% endif %}
                        {% if audiobooks_count != 0%}
                        <div>
                            <span class="text-muted">Audiobooks</span>: {{ audiobooks_count }}
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}

                    {% if games_count != 0 or games_count != 0%}
                    <div class="mt-2 order-1 order-sm-2">
                        <div class="fs-6">Play</div>
                        {% if games_count != 0 %}
                        <div>
                            <span class="text-muted">Works</span>: {{ games_count }}
                        </div>
                        {% endif %}
                        {% if games_count != 0 %}
                        <div>
                            <span class="text-muted">Games</span>: {{ games_count }}
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}
                </div>

                <div class="bg-light p-3 mb-3 order-1 order-sm-2">
                    <div class="d-flex justify-content-start align-items-center flex-wrap">
                        <div class="me-1 fs-5">Contributors</div>
                        <div>(<a href="{% url 'entity:creator_history' object.pk %}" class="fs-6 text-secondary">Changelog</a>)</div>
                    </div>
                    <div>
                        {% for contributor in contributors %}
                            <span>
                                <a href="{% url 'accounts:detail' contributor.username %}">
                                    {% if contributor == contributors.0 %}
                                        <b>         
                                            {{ contributor.display_name|default:contributor.username }}
                                        </b>
                                    {% else %}
                                        {{ contributor.display_name|default:contributor.username }}
                                    {% endif %}
                                </a>
                            </span>
                            {% if not forloop.last %} / {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}