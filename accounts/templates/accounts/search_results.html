{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
      <div class="col-sm-7 left-column">
    <h2>Searching: "{{ query }}"</h2>
    <hr>
    {% if user_results %}
        <h3>Users</h3>
        {% for user in user_results %}
            <p>
                <a href="{% url 'accounts:detail' username=user.username %}">{{ user.display_name | default:user.username }}</a>
            </p>
        {% empty %}
            <p>No user results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if post_results %}
        <h3>Posts</h3>
        {% for post in post_results %}
            <p>
                <a href="{% url 'write:post_detail' post.id %}">{{ post.title }}</a>
            </p>
        {% empty %}
            <p>No post results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if say_results %}
        <h3>Says</h3>
        {% for say in say_results %}
            <p>{{ say.author.display_name | default:say.author.username }} said: </p>
            <p>
                <a href="{% url 'write:say_detail' say.id %}">{{ say.content|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No say results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if pin_results %}
        <h3>Pins</h3>
        {% for pin in pin_results %}
            <p>
                <a href="{% url 'write:pin_detail' pin.id %}">{{ pin.title|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No pin results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if repost_results %}
        <h3>Reposts</h3>
        {% for repost in repost_results %}
            <p>
                <a href="{% url 'write:repost_detail' pin.id %}">{{ repost.content|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No repost results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if person_results %}
        <h3>Persons</h3>
        {% for person in person_results %}
            <p>
                <a href="{% url 'entity:person_detail' person.id %}">{{ person.name|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No person results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if book_results %}
        <h3>Book</h3>
        {% for book in book_results %}
            <p>
                <a href="{% url 'read:book_detail' book.id %}">{{ book.title|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No Book results found.</p>
        {% endfor %}
        <hr>
    {% endif %}


</div>
</div>
</div>
{% endblock %}
