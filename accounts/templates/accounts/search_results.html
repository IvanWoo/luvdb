{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
      <div class="col-sm-7 left-column">
    <h2>Searching: "{{ query }}"</h2>
    <hr>
    {% if user_results %}
        <h3>Users</h3>
        {% for user in user_results %}
            <p>
                <a href="{% url 'accounts:detail' username=user.username %}">{{ user.display_name | default:user.username }}</a>
            </p>
        {% empty %}
            <p>No user results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if post_results %}
        <h3>Posts</h3>
        {% for post in post_results %}
            <p>
                <a href="{% url 'write:post_detail' post.id %}">{{ post.title }}</a>
            </p>
        {% empty %}
            <p>No post results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if say_results %}
        <h3>Says</h3>
        {% for say in say_results %}
            <p>{{ say.user.display_name | default:say.user.username }} said: </p>
            <p>
                <a href="{% url 'write:say_detail' say.id %}">{{ say.content|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No say results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if pin_results %}
        <h3>Pins</h3>
        {% for pin in pin_results %}
            <p>
                <a href="{% url 'write:pin_detail' pin.id %}">{{ pin.title|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No pin results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if repost_results %}
        <h3>Reposts</h3>
        {% for repost in repost_results %}
            <p>
                <a href="{% url 'write:repost_detail' pin.id %}">{{ repost.content|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No repost results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if person_results %}
        <h3>Persons</h3>
        {% for person in person_results %}
            <p>
                <a href="{% url 'entity:person_detail' person.id %}">{{ person.name|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No person results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if book_results %}
        <h3>Book</h3>
        {% for book in book_results %}
            <p>
                <a href="{% url 'read:book_detail' book.id %}">{{ book.title|truncatechars:50 }}</a>
            </p>
        {% empty %}
            <p>No Book results found.</p>
        {% endfor %}
        <hr>
    {% endif %}

    {% if periodical_results %}
    <h3>Periodicals</h3>
    {% for periodical in periodical_results %}
        <p>
            <a href="{% url 'read:periodical_detail' periodical.id %}">{{ periodical.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No periodical results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if game_results %}
    <h3>Games</h3>
    {% for game in game_results %}
        <p>
            <a href="{% url 'play:game_detail' game.id %}">{{ game.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No game results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if work_results %}
    <h3>Works</h3>
    {% for work in work_results %}
        <p>
            <a href="{% url 'listen:work_detail' work.id %}">{{ work.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No work results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if track_results %}
    <h3>Tracks</h3>
    {% for track in track_results %}
        <p>
            <a href="{% url 'listen:track_detail' track.id %}">{{ track.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No track results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if release_results %}
    <h3>Releases</h3>
    {% for release in release_results %}
        <p>
            <a href="{% url 'listen:release_detail' release.id %}">{{ release.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No release results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if movie_results %}
    <h3>Movies</h3>
    {% for movie in movie_results %}
        <p>
            <a href="{% url 'watch:movie_detail' movie.id %}">{{ movie.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No movie results found.</p>
    {% endfor %}
    <hr>
{% endif %}

{% if series_results %}
    <h3>Series</h3>
    {% for serie in series_results %}
        <p>
            <a href="{% url 'watch:series_detail' serie.id %}">{{ serie.title|truncatechars:50 }}</a>
        </p>
    {% empty %}
        <p>No series results found.</p>
    {% endfor %}
    <hr>
{% endif %}

</div>
</div>
</div>
{% endblock %}
